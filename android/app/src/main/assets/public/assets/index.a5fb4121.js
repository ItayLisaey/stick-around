import{u as P,j as i,a as e,B as _,c as b,F as h,f as F,b as te,I as R,d as ne,e as re,r as l,G as j,g as $,C as x,h as G,i as L,k as ae,P as O,o as z,S as N,l as oe,m as se,n as ie,H as q,w as ce,p as le,M as de,q as ue,s as he,Z as fe,t as ge,v as ve,x as me,y as pe,R as M,z as H,A as _e,$ as Ce,D as we,E as W,T as ye,J as be,K as Ne,L as Se}from"./vendor.a4514f24.js";const ke=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};ke();const Ie="_box_zauyu_1",Pe="_bottomNav_zauyu_9",xe="_navBtn_zauyu_16",Me="_selected_zauyu_43";var A={box:Ie,bottomNav:Pe,navBtn:xe,selected:Me};const Ae=()=>{const t=P(),n={theaters:"/highlight",search:"/search",donate:"/donate"};function r(s){t.push(s)}return i("div",{className:A.box,children:[e(_,{className:b(A.navBtn,{[A.selected]:t.location.pathname===n.theaters}),onClick:s=>r(n.theaters),children:i("div",{children:[e(h,{icon:F}),e("span",{children:"In Theaters"})]})}),e(_,{className:b(A.navBtn,{[A.selected]:t.location.pathname===n.search}),onClick:s=>r(n.search),children:i("div",{children:[e(h,{icon:te}),e("span",{children:"Search"})]})})]})},Ee="_barContainer_1nxsy_1";var Be={barContainer:Ee};const $e=({title:t,search:n,back:r})=>{const s=P();function a(){s.push("/search")}function o(){s.push("/highlight")}return i("div",{className:Be.barContainer,children:[r?e(R,{onClick:o,children:e(h,{icon:ne})}):e("span",{children:t}),n&&e(R,{onClick:a,children:e(re,{color:"primary"})})]})},C={default:"https://api.themoviedb.org/3/",MOVIES:"https://api.themoviedb.org/3/movie/",IMAGES:"https://image.tmdb.org/t/p/w200/",HDIMAGES:"https://image.tmdb.org/t/p/w500/",PLAYING:"now_playing",AFTER_STINGER:179430,DURING_STINGER:179431};function Te(t){switch(t){case"movie":return C.MOVIES;case"image":return C.IMAGES;case"image-hd":return C.HDIMAGES;default:return C.default}}function E(t,n,r){const s="382199f5e49d336dfba83276194599a8",a=Te(r);let o="";return t&&(o=`&${t.join("&")}`),`${a}${n}?api_key=${s}${o}`}function Y(t){return E([],t,"image-hd")}const De="_card_qehcj_1",Re="_placeholderCard_qehcj_13",qe="_skeleton_qehcj_1";var Ve={card:De,placeholderCard:Re,skeleton:qe};const T=({movie:t,dummy:n})=>{const[r,s]=l.exports.useState(!0),a=P();function o(){n||a.push(`/movies/${t.id}`)}return e("div",{className:Ve.card,onClick:o,children:e(j,{in:r,children:e("img",{onClick:o,src:Y(t.posterPath),alt:`${t.title} poster image`})})})};function D(t){return new Date(Date.parse(t))}async function Fe(t){const n=r=>E(["language=en-US",`page=${r}`],C.PLAYING,"movie");try{return(await fetch(n(t)).then(a=>a.json()).catch(a=>{throw Error("Error fetching movies")})).results.map(a=>{var o,c;return{id:a.id,title:a.title,releaseDate:D(a.release_date),overview:(o=a.overview)!=null?o:"",posterPath:(c=a.poster_path)!=null?c:""}})}catch(r){console.error(r)}}function je(t){const[n,r]=l.exports.useState(!0),[s,a]=l.exports.useState(!1),[o,c]=l.exports.useState([]),[g,u]=l.exports.useState(!1);return l.exports.useEffect(()=>{r(!0),Fe(t).then(d=>{c(f=>f.concat(d)),u(d.length>0),r(!1)}).catch(d=>a(!0))},[t]),{loading:n,movies:o,hasMore:g,error:s}}const Ge="_cardsContainer_1s7ef_1",Le="_nowPlayingContainer_1s7ef_9",Oe="_highlightContainer_1s7ef_19",ze="_progressContainer_1s7ef_26",He="_loadingCard_1s7ef_35",We="_loadingBg_1s7ef_1",Ye="_errorCard_1s7ef_53";var S={cardsContainer:Ge,nowPlayingContainer:Le,highlightContainer:Oe,progressContainer:ze,loadingCard:He,loadingBg:We,errorCard:Ye};const Je=()=>{const[t,n]=l.exports.useState(1),{movies:r,hasMore:s,loading:a,error:o}=je(t),c=l.exports.useRef(null),g=l.exports.useCallback(u=>{a||(c.current&&c.current.disconnect(),c.current=new IntersectionObserver(d=>{d[0].isIntersecting&&s&&n(f=>f+1)}),u&&c.current.observe(u))},[a,s]);return e("div",{className:S.nowPlayingContainer,children:r.length>0?i("div",{className:S.highlightContainer,children:[e($e,{title:"In Theaters",search:!0}),i("div",{className:S.cardsContainer,children:[r.map((u,d)=>r.length===d+1?e("div",{ref:g,children:e(T,{movie:u},d)}):e(T,{movie:u},d)),!o&&e($,{in:a,children:e("div",{className:S.loadingCard,children:e(x,{})})}),e($,{in:o,children:e("div",{className:S.errorCard,children:e(h,{icon:G})})})]})]}):e("div",{className:S.progressContainer,children:e(x,{})})})};async function Ue(t){const n=E(["language=en",`query=${t}`],"search/movie"),{results:r}=await fetch(n).then(a=>a.json());return r.map(a=>{var o,c;return{id:a.id,title:a.title,releaseDate:D(a.release_date),overview:(o=a.overview)!=null?o:"",posterPath:(c=a.backdrop_path)!=null?c:""}})}const Ke="_barContainer_1buq4_1",Ze="_overlay_1buq4_29";var J={barContainer:Ke,overlay:Ze};const Xe=({movie:t})=>{const n=P();function r(){n.push(`/movies/${t.id}`)}return i("div",{className:J.barContainer,style:{backgroundImage:`url(${Y(t.posterPath)})`},onClick:r,children:[e("span",{children:t.title}),e("span",{children:t.releaseDate.getFullYear()}),e("div",{className:J.overlay})]})},Qe="_searchContainer_1o4lq_1",et="_searchField_1o4lq_13",tt="_resultsContainer_1o4lq_45",nt="_movieBarContainer_1o4lq_56",rt="_noResultsContainer_1o4lq_60",at="_searchStartScreen_1o4lq_76";var k={searchContainer:Qe,searchField:et,resultsContainer:tt,movieBarContainer:nt,noResultsContainer:rt,searchStartScreen:at};const ot=()=>{const[t,n]=l.exports.useState(""),[r,s]=l.exports.useState([]);l.exports.useEffect(()=>{async function o(){s(await Ue(t))}t!==""&&o()},[t]);function a(){return t===""?i("div",{className:k.searchStartScreen,children:[e(h,{icon:F}),e(h,{icon:L})]}):i("div",{className:k.noResultsContainer,children:[e(h,{icon:ae}),e("span",{children:"No results found"})]})}return i("div",{className:k.searchContainer,children:[e("div",{className:k.searchField,children:e("input",{type:"text",placeholder:"Search...",autoFocus:!0,value:t,onChange:o=>n(o.currentTarget.value)})}),r.length>0?e("div",{className:k.resultsContainer,children:r.map((o,c)=>e("div",{className:k.movieBarContainer,children:e(Xe,{movie:o})},c))}):a()]})};async function st(t){var a,o;const n=E([],`${t}`,"movie"),r=await fetch(n).then(c=>c.json());return{id:r.id,title:r.title,releaseDate:D(r.release_date),overview:(a=r.overview)!=null?a:"",posterPath:(o=r.poster_path)!=null?o:""}}async function it(t){var a,o;const n=O(ee,"movie-data",t.toString()),r=await z(n);return{after:(a=r.get("after"))!=null?a:0,during:(o=r.get("during"))!=null?o:0}}async function ct(t){const n={after:{votes:0,boolean:!1,fromAPI:!1},during:{votes:0,boolean:!1,fromAPI:!1}},{id:r}=t,s=E([],`${r}/keywords`,"movie");(await fetch(s).then(c=>c.json())).keywords.map(c=>{c.id===C.DURING_STINGER&&(n.during.boolean=!0,n.during.fromAPI=!0),c.id===C.AFTER_STINGER&&(n.after.boolean=!0,n.after.fromAPI=!0)});const o=await it(t.id);return o.after!==0&&(o.after>0?n.after={votes:o.after,boolean:!0,fromAPI:!1}:n.after={votes:o.after,boolean:!1,fromAPI:!1}),o.during!==0&&(o.during>0?n.during={votes:o.during,boolean:!0,fromAPI:!1}:n.during={votes:o.during,boolean:!1,fromAPI:!1}),n}function lt(t){return t?t.during.votes===0&&t.after.votes===0?!t.after.fromAPI&&!t.during.fromAPI?0:1:t.after.boolean||t.during.boolean?1:-1:0}function dt(t){switch(t){case 1:return"YES";case-1:return"NO";case 0:return"MAYBE";default:return"MAYBE"}}function ut(t,n){return t==="after"?{after:n?1:-1,during:0}:{after:0,during:n?1:-1}}async function ht(t,n){const r=await N.get({key:`${t.id}`});if(r.value){const s=r.value&&JSON.parse(r.value);s[n]=!0,await N.set({key:`${t.id}`,value:JSON.stringify(s,null,2)})}else{const s=n==="after"?{after:!0,during:!1}:{after:!1,during:!0};await N.set({key:`${t.id}`,value:JSON.stringify(s,null,2)})}}async function ft(t){const{value:n}=await N.get({key:`${t.id}`});return n?JSON.parse(n):null}const gt="_waitingContainer_173lq_1",vt="_worth_173lq_30",mt="_notWorth_173lq_34",pt="_maybeWorth_173lq_38",_t="_creditsRow_173lq_42",Ct="_creditsContainer_173lq_49",wt="_votes_173lq_64",yt="_moreInfo_173lq_74",bt="_waitingProgressContainer_173lq_87";var v={waitingContainer:gt,worth:vt,notWorth:mt,maybeWorth:pt,creditsRow:_t,creditsContainer:Ct,votes:wt,moreInfo:yt,waitingProgressContainer:bt};const I=oe({palette:{primary:{main:"#6E85B2",dark:"#261C2C",light:"#6E85B2"},secondary:{main:"#5C527F"},success:{main:"#4AA96C"},error:{main:"#FF5C58"},background:{default:"#261C2C"}}}),Nt="_markContainer_1fpnq_1",St="_iconContainer_1fpnq_5",kt="_voteContainer_1fpnq_12",It="_long_1fpnq_31",Pt="_maybe_1fpnq_37";var m={markContainer:Nt,iconContainer:St,voteContainer:kt,long:It,maybe:Pt};const U=({subCredits:t})=>t.boolean?i("div",{className:m.markContainer,children:[e("div",{className:m.iconContainer,children:e(h,{icon:se,color:I.palette.success.main})}),e("div",{className:b(m.voteContainer,{[m.long]:t.votes.toString().length>1}),children:e("span",{children:t.votes})})]}):t.votes===0?e("div",{className:m.markContainer,children:e("div",{className:b(m.iconContainer,m.maybe),children:e(h,{icon:L,color:I.palette.primary.light})})}):i("div",{className:m.markContainer,children:[e("div",{className:m.iconContainer,children:e(h,{icon:ie,color:I.palette.error.main})}),e("div",{className:m.voteContainer,children:e("span",{children:t.votes})})]}),xt="_voteContainer_63z64_1",Mt="_votedContainer_63z64_22";var K={voteContainer:xt,votedContainer:Mt};const Z=({onClick:t,creditType:n,hasVoted:r})=>r?i(_,{className:K.votedContainer,disabled:!0,children:[e(q,{}),e("span",{children:"VOTED"})]}):i(_,{className:b(K.voteContainer,{voted:r}),onClick:s=>t(n),children:[e(q,{}),e("span",{children:"VOTE"})]});async function At(t,n){const r=O(ee,"movie-data",t.toString()),s=await z(r),a={after:s.get("after"),during:s.get("during")};s.exists()?await ce(r,{after:a.after+n.after,during:a.during+n.during}):await le(r,{after:n.after,during:n.during})}const Et="_modalBox_n78oi_1",Bt="_votingContainer_n78oi_35";var X={modalBox:Et,votingContainer:Bt};const $t=({open:t,onClose:n,creditType:r,setOpen:s,movie:a,votingStatus:o})=>{const[c,g]=l.exports.useState(!1),u=()=>r==="after"?"Is there an after credits scene?":"Is there a scene during the credits?";async function d(f){if(!o[r]){g(!0);const B=ut(r,f);await At(a.id,B),await ht(a,r),s(!1)}}return e(de,{open:t,onClose:n,children:i("div",{className:X.modalBox,children:[e("span",{children:u()}),i("div",{className:X.votingContainer,children:[e(_,{variant:"contained",color:"success",onClick:f=>d(!0),disableElevation:!0,children:e(h,{icon:ue,color:I.palette.primary.dark})}),e(_,{variant:"contained",color:"error",onClick:f=>d(!1),disableElevation:!0,children:e(h,{icon:he,color:I.palette.primary.dark})})]})]})})},Tt=({movie:t,credits:n,open:r,setOpen:s})=>{const[a,o]=l.exports.useState("during"),[c,g]=l.exports.useState(0),[u,d]=l.exports.useState({after:!0,during:!0}),f=()=>s(!1);function B(y){o(y),s(!0)}return l.exports.useEffect(()=>{async function y(){const V=await ft(t);d(V||{after:!1,during:!1})}y()},[r,t]),l.exports.useEffect(()=>{var y;g((y=lt(n))!=null?y:0)},[n,u]),n?i("div",{className:b(v.waitingContainer,{[v.worth]:c===1},{[v.notWorth]:c===-1},{[v.maybeWorth]:c===0}),children:[e("h1",{children:"Should you wait?"}),e("h2",{children:dt(c)}),i("div",{className:v.creditsRow,children:[i("div",{className:v.creditsContainer,children:[e("span",{children:"During the credits?"}),e(U,{subCredits:n.during})]}),e(Z,{onClick:B,creditType:"during",hasVoted:u.during})]}),i("div",{className:v.creditsRow,children:[i("div",{className:v.creditsContainer,children:[e("span",{children:"After the credits?"}),e(U,{subCredits:n.after})]}),e(Z,{onClick:B,creditType:"after",hasVoted:u.after})]}),(n.after.votes===0||n.during.votes===0)&&i("div",{className:v.moreInfo,children:[e(h,{icon:G}),i("div",{children:[e("h3",{children:"Results may be inaccurate"}),e("p",{children:"One or more of the fields has not been voted on yet"})]})]}),e($t,{open:r,onClose:f,creditType:a,setOpen:s,movie:t,votingStatus:u})]}):e("div",{className:v.waitingProgressContainer,children:e(x,{size:60})})},Dt="_pageContainer_1hso4_1",Rt="_aboutContainer_1hso4_27",qt="_waitingContainer_1hso4_34",Vt="_aboutCard_1hso4_38",Ft="_aboutDetails_1hso4_44",jt="_progressPageContainer_1hso4_70",Gt="_waitingProgressContainer_1hso4_78";var w={pageContainer:Dt,aboutContainer:Rt,waitingContainer:qt,aboutCard:Vt,aboutDetails:Ft,progressPageContainer:jt,waitingProgressContainer:Gt};const Lt=({id:t})=>{const[n,r]=l.exports.useState(),[s,a]=l.exports.useState(),[o,c]=l.exports.useState(!1),[g,u]=l.exports.useState(!1);return l.exports.useEffect(()=>{const d=parseInt(t);async function f(){r(await st(d))}f()},[t]),l.exports.useEffect(()=>{async function d(){a(await ct(n))}n&&d()},[o,n]),l.exports.useEffect(()=>{u(!!s)},[s]),n?e("div",{className:w.pageContainer,children:i("main",{children:[i("div",{className:w.aboutContainer,children:[e("div",{className:w.aboutCard,children:e(T,{movie:n})}),i("div",{className:w.aboutDetails,children:[e("h1",{children:n.title}),e("h2",{children:n.releaseDate.getFullYear()}),e("p",{children:n.overview})]})]}),g?e(fe,{in:g,children:e("div",{className:w.waitingContainer,children:e(Tt,{credits:s,movie:n,open:o,setOpen:c})})}):e("div",{className:w.waitingProgressContainer,children:e(x,{size:60})})]})}):e("div",{className:w.progressPageContainer,children:e(x,{})})};async function Ot(){await N.set({key:"hasBeen",value:"true"})}async function zt(){return!(await N.get({key:"hasBeen"})).value}const Ht={id:566525,title:"Shang-Chi and the Legend of the Ten Rings",releaseDate:D("2021-09-01"),overview:"Shang-Chi must confront the past he thought he left behind when he is drawn into the web of the mysterious Ten Rings organization.",posterPath:"/1BIoJGKbXjdFDAqUEiA2VHqkK1Z.jpg"},Wt="_root_18408_1",Yt="_introContainer_18408_19",Jt="_welcomeMessage_18408_26",Ut="_instruction_18408_46",Kt="_moviePress_18408_59",Zt="_vote_18408_83",Xt="_btnContainer_18408_97",Qt="_close_18408_107";var p={root:Wt,introContainer:Yt,welcomeMessage:Jt,instruction:Ut,moviePress:Kt,vote:Zt,btnContainer:Xt,close:Qt};const en=({exit:t})=>{function n(){Ot(),t(!1)}return i("div",{className:p.root,children:[i("div",{className:p.introContainer,children:[i("div",{className:p.welcomeMessage,children:[e("p",{children:"Hey, thanks for downloading \u201DStick Around\u201D"}),e("p",{children:"This is the main page, where you can see the movies now playing at theaters."})]}),i("div",{className:p.instruction,children:[i("div",{className:p.moviePress,children:[e(T,{movie:Ht,dummy:!0}),e(h,{icon:ge})]}),e("p",{children:"After pressing on a title, you will be forwarded to the title\u2019s movie page, where you can see whether or not the movie has a post credits scene."}),i("div",{className:p.vote,children:[e(q,{}),e("span",{children:"VOTED"})]}),e("p",{children:"Please consider voting on the movie page to help increase the app\u2019s accuracy :)"})]})]}),e("div",{className:p.btnContainer,children:e(_,{variant:"contained",disableElevation:!0,onClick:n,children:"Continue"})}),e("div",{className:p.close,children:e(R,{onClick:n,children:e(h,{icon:ve})})})]})},tn="_container_1gjzy_1",nn="_intro_1gjzy_19";var rn={container:tn,intro:nn};const an=()=>{P(),me();const[t,n]=l.exports.useState(!1);return l.exports.useEffect(()=>{async function r(){n(await zt())}r()}),i("div",{className:rn.container,children:[i(pe,{children:[e(M,{path:"/movies/:id",children:({match:r})=>{var s;return e(j,{in:r!==null,children:e("main",{children:e(Lt,{id:(s=r==null?void 0:r.params.id)!=null?s:"0"})})})}}),e(M,{path:"/highlight",exact:!0,children:({match:r})=>e($,{in:r!==null,children:e("main",{children:e(Je,{})})})}),e(M,{path:"/search",exact:!0,children:({match:r})=>e($,{in:r!==null,children:e("main",{children:e(ot,{})})})}),e(M,{path:"/",children:e(H,{to:"/highlight"})}),e(M,{path:"*",children:e(H,{to:"/highlight"})})]}),e("footer",{children:e(Ae,{})}),t&&e(en,{exit:n})]})},on="AIzaSyDY6TM6u-X6lJcMNnbo5cvZ29Wp7FRnoHA",sn={apiKey:on,authDomain:"stick-around-01.firebaseapp.com",projectId:"stick-around-01",storageBucket:"stick-around-01.appspot.com",messagingSenderId:"363848154346",appId:"1:363848154346:web:9c86b385d000e76f8c6b93",measurementId:"G-ZPY4HGZV7D"},Q=_e(sn),ee=Ce(Q);we(Q);function cn(){return W.addListener("backButton",({canGoBack:t})=>{t?window.history.back():W.exitApp()}),e("div",{className:"App",children:e(ye,{theme:I,children:e(be,{children:e(an,{})})})})}Ne.render(e(Se.StrictMode,{children:e(cn,{})}),document.getElementById("root"));
